<!DOCTYPE html>
<html>
<head>
	<title>Mousehunt Queso Canyon Calculator - LegendDemonSlayer</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="shortcut icon" type="image/png" href="library/mouse.ico"/>
	<!--Javascript-->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js" type="text/javascript"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
	<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
	<script src="qc.js"></script>

	<!--CSS-->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css">
	<link rel="stylesheet" href="css/main.css">		
	<style>

	@media only screen and (min-width: 768px) {
		.table-responsive {
			display: inline-table;
		}
		.modal-xl {
			width: 90%;
			max-width:1200px;
		}
	}
	.table {
		border-collapse: collapse;
		width: 90%;
		table-layout: fixed;
	}

	th, td {
		padding: 15px;
	}
	th{
		background-color: #ccc;
	}
	th:nth-child(1),td:nth-child(1){  
		width: 10%;
	}
	@media only screen and (max-width: 768px) {
		.navbar-brand {
			font-size: 80%;
		}
	}
	.button-align-table{
		margin-right:10%;
	}
	#calculatoroutput{
		resize: none;
		margin-left:1%;
		min-height: 5% !important; 
	}
</style>
</head>

<body>
	<nav class="navbar navbar-default" id="top">
		<div class="container-fluid">
			<div class="navbar-header">
				<span class="navbar-brand">LegendDemonSlayer's Queso Canyon Calculator</span>

			</div>
		</div>
	</nav>
	<div class="container">
		<div id="maincalc">
			<h5 class="subtitle">Estimated Nachore Calculator for your next pump</h5>
			<form action="javascript:void(0);">
				<br>
				<div class="form-inline">
					<div class="form-group col-sm-6">

						<label for="pumplvl">Select current pump level:&nbsp;</label>
						<select class="form-control col-sm-6" id="pumplvl">
							<option value="0" selected disabled>-- Select current pump level --</option>
							<option value="1">1</option>
							<option value="2">2</option>
							<option value="3">3</option>
							<option value="4">4</option>
							<option value="5">5</option>
							<option value="6">6</option>
							<option value="7">7</option>
							<option value="8">8</option>
							<option value="9">9</option>
							<option value="10">10</option>
						</select>
					</div>
					<div class="form-group col-sm-6">
						<label for="pumplvl">Enter Current Nachores You Have:&nbsp;</label>
						<input type="number" class="form-control" id="currentnachorecount" min="1" step="1" placeholder="0" onkeypress='return event.charCode >= 48 && event.charCode <= 57'
						title="Numbers only">
					</div>
				</div>
				<br>
				<p id="nextpumpreq" class="col-sm-6"></p>
				<p id="requirednachores" class="col-sm-8"></p>
				<br>
				<div class="col-sm-12">
					<label>Enter Current Resources (leave box as 0 if no resources):</label>
					<div>
						<table class="table table-responsive table-bordered" id="calctable">
							<thead>
								<tr>
									<th></th>
									<th>Leaf/Leaves</th>
									<th>SB Crafting<br>	(Using 3 or 6 crafting recipe)</th>
									<th>Queso(s) currently you have<br>(not counting the leaves and crafting it)</th>
									<th>Total Quesos</th>
									<th>Convert to next tier leaves?(eg. Use bland queso to get mild leaves)</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>Bland</td>
									<td></td>							
									<td>
									</td>
									<td>
										<div class="form-group">
											<input type="number" class="form-control" id="blandquesocount" min="1" step="1" placeholder="0" onkeypress='return event.charCode >= 48 && event.charCode <= 57'
											title="Numbers only">
										</div>
									</td>
									<td><span id="totalblandqueso">0</span></td>
									<td>
										<div class="form-group">
											<input type="checkbox" class="form-control" id="blandtomild" value="0">											
										</div>
									</td>
								</tr>
								<tr>
									<td>Mild</td>
									<td>
										<div class="form-group">
											<input type="number" class="form-control" id="mildleavescount" min="1" step="1" placeholder="0" onkeypress='return event.charCode >= 48 && event.charCode <= 57'
											title="Numbers only">
										</div>
									</td>						
									<td>
										<div class="form-group">
											<input type="checkbox" class="form-control" id="mildquesosb" value="0">
										</div>
									</td>
									<td>
										<div class="form-group">
											<input type="number" class="form-control" id="mildquesocount" min="1" step="1" placeholder="0" onkeypress='return event.charCode >= 48 && event.charCode <= 57'
											title="Numbers only">
										</div>
									</td>
									<td><span id="totalmildqueso">0</span></td>
									<td>
										<div class="form-group">
											<input type="checkbox" class="form-control" id="mildtomedium" value="0">
										</div>
									</td>
								</tr>
								<tr>
									<td>Medium</td>
									<td>
										<div class="form-group">
											<input type="number" class="form-control" id="mediumleavescount" min="1" step="1" placeholder="0" onkeypress='return event.charCode >= 48 && event.charCode <= 57'
											title="Numbers only">
										</div>
									</td>
									<td>
										<div class="form-group">
											<input type="checkbox" class="form-control" id="mediumquesosb" value="0">
										</div>
									</td>
									<td>
										<div class="form-group">
											<input type="number" class="form-control" id="mediumquesocount" min="1" step="1" placeholder="0" onkeypress='return event.charCode >= 48 && event.charCode <= 57'
											title="Numbers only">
										</div>
									</td>
									<td><span id="totalmediumqueso">0</span></td>
									<td>
										<div class="form-group">
											<input type="checkbox" class="form-control" id="mediumtohot" value="0">
										</div>
									</td>
								</tr>
								<tr>
									<td>Hot</td>
									<td>
										<div class="form-group">
											<input type="number" class="form-control" id="hotleavescount" min="1" step="1" placeholder="0" onkeypress='return event.charCode >= 48 && event.charCode <= 57'
											title="Numbers only">
										</div>
									</td>
									<td>
										<div class="form-group">
											<input type="checkbox" class="form-control" id="hotquesosb" value="0">
										</div>
									</td>
									<td>
										<div class="form-group">
											<input type="number" class="form-control" id="hotquesocount" min="1" step="1" placeholder="0" onkeypress='return event.charCode >= 48 && event.charCode <= 57'
											title="Numbers only">
										</div>
									</td>
									<td><span id="totalhotqueso">0</span></td>
									<td>
										<div class="form-group">
											<input type="checkbox" class="form-control" id="hottoflamin" value="0">
										</div>
									</td>
								</tr>
								<tr>
									<td>Flamin'</td>
									<td>
										<div class="form-group">
											<input type="number" class="form-control" id="flaminleavescount" min="1" step="1" placeholder="0" onkeypress='return event.charCode >= 48 && event.charCode <= 57'
											title="Numbers only">
										</div>
									</td>							
									<td>
										<div class="form-group">
											<input type="checkbox" class="form-control" id="flaminquesosb" value="0">
										</div>
									</td>
									<td>
										<div class="form-group">
											<input type="number" class="form-control" id="flaminquesocount" min="1" step="1" placeholder="0" onkeypress='return event.charCode >= 48 && event.charCode <= 57'
											title="Numbers only">
										</div>
									</td>
									<td><span id="totalflaminqueso">0</span></td>
									<td></td>
								</tr>
							</tbody>

						</table>
					</div>
				</div>

				<div class="float-right button-align-table">
					<button class="btn btn-info" id="calcnachoresbtn">Calculate Nachores Output</button>
				</div>
				<br>
				<br>
			</form>
			<div class="form-group">
				<textarea id="calculatoroutput" class="col-sm-11" disabled rows="5"></textarea>
			</div>
		</div>
		<hr>
		<div id="pumptocheeseratio">
			<h5 class="subtitle">Cheatsheet/Table of Queso River hunts needed to get enough Bland Quesos for higher tier Quesos</h5>
			<br>
			<div>
				Legend:
				<br>
				<span class="bg-success">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span> – Recommended</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				<span class="bg-warning">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span> – Possible But May Take A Longer Time</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				<span class="bg-danger">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span> – Not Recommended</span>
			</div>

			<br>
			* Hunts not including the farming of previous leaf/leaves level (eg. Mild+Medium+Hot hunts)
			<br>
			<table class="table table-bordered table-responsive">
				<tbody>
					<tr>
						<th>&nbsp;</th>
						<th>Bland(output)</th>
						<th>Mild</th>
						<th>Medium</th>
						<th>Hot</th>
						<th>Flamin'</th>
						<th>Wildfire</th>
					</tr>
					<tr>
						<td class="bg-light">Pump 1</td>
						<td class="bg-light">1</td>
						<td class="bg-success">10</td>
						<td class="bg-warning">100</td>
						<td class="bg-danger">1,000</td>
						<td class="bg-danger">10,000</td>
						<td class="bg-danger">25,000</td>
					</tr>
					<tr>
						<td class="bg-light">Pump 2</td>
						<td class="bg-light">2</td>
						<td class="bg-success">5</td>
						<td class="bg-success">50</td>
						<td class="bg-danger">500</td>
						<td class="bg-danger">5,000</td>
						<td class="bg-danger">12,500</td>
					</tr>
					<tr>
						<td class="bg-light">Pump 3</td>
						<td class="bg-light">5</td>
						<td class="bg-success">2</td>
						<td class="bg-success">20</td>
						<td class="bg-danger">200</td>
						<td class="bg-danger">2,000</td>
						<td class="bg-danger">5,000</td>
					</tr>
					<tr>
						<td class="bg-light">Pump 4</td>
						<td class="bg-light">7</td>
						<td class="bg-success">2</td>
						<td class="bg-success">15</td>
						<td class="bg-warning">143</td>
						<td class="bg-danger">1,429</td>
						<td class="bg-danger">3,572</td>
					</tr>
					<tr>
						<td class="bg-light">Pump 5</td>
						<td class="bg-light">12</td>
						<td class="bg-success">1</td>
						<td class="bg-success">9</td>
						<td class="bg-warning">84</td>
						<td class="bg-danger">834</td>
						<td class="bg-danger">2,084</td>
					</tr>
					<tr>
						<td class="bg-light">Pump 6</td>
						<td class="bg-light">30</td>
						<td class="bg-success">1</td>
						<td class="bg-success">4</td>
						<td class="bg-success">34</td>
						<td class="bg-danger">334</td>
						<td class="bg-danger">834</td>
					</tr>
					<tr>
						<td class="bg-light">Pump 7</td>
						<td class="bg-light">40</td>
						<td class="bg-success">1</td>
						<td class="bg-success">3</td>
						<td class="bg-success">25</td>
						<td class="bg-warning">250</td>
						<td class="bg-danger">625</td>
					</tr>
					<tr>
						<td class="bg-light">Pump 8</td>
						<td class="bg-light">60</td>
						<td class="bg-success">1</td>
						<td class="bg-success">2</td>
						<td class="bg-success">17</td>
						<td  class="bg-warning">167</td>
						<td class="bg-danger">417</td>
					</tr>
					<tr>
						<td class="bg-light">Pump 9</td>
						<td class="bg-light">150</td>
						<td class="bg-success">1</td>
						<td class="bg-success">1</td>
						<td class="bg-success">7</td>
						<td class="bg-success">67</td>
						<td class="bg-warning">167</td>
					</tr>
					<tr>
						<td class="bg-light">Pump 10</td>
						<td class="bg-light">200</td>
						<td class="bg-success">1</td>
						<td class="bg-success">1</td>
						<td class="bg-success">5</td>
						<td class="bg-success">50</td>
						<td class="bg-success">125</td>
					</tr>
				</tbody>
			</table>
		</div>
		<hr>
		<p><a data-toggle="modal" data-target="#myModal" href="#">Frequently Asked Question (FAQ)</a></p>
		<p>Credits to Jack for his wonderful <a href="https://www.agiletravels.com">agiletravels.com</a> tool that helps to track leaves and nachores drop rates.</p>
	</div>

	<!-- Modal -->
	<div id="myModal" class="modal fade" role="dialog">
		<div class="modal-dialog modal-xl">

			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">					
					<h6 class="modal-title">Frequently Asked Question (FAQ)</h6>
					<button type="button" class="close" data-dismiss="modal">&times;</button>
				</div>
				<div class="modal-body">
					<p><b>Q. What is the difference between this calculator and <a href="https://docs.google.com/spreadsheets/d/1M9byMK0M06pifXX7IZliLh2LQCS6MERZBfoX82RsS_E" target="_blank">fysh's Calculator</a>?</b>
						<br>A. fysh's calculator is more like a calculator that recommends you the best setup for X nachores at Y pump. I have a similar table at the bottom that calculates how many hunts you need to farm enough Bland Quesos for Z Queso. However, the main calculator above is actually for calculating the output of nachores with the resources you have. In other words, it's like a reverse engineering of fysh's calculator, but take note that I didn't steal his work on his wonderful calculator! Besides, you don't have to save fysh's calculator as another copy to use it.</p>

					<p><b>Q. How do I use your calculator? / How does your calculator work?</b>
						<br>A. A documentation on how to use it can be found <a>here</a>.</p>	

					<p><b>Q. Are you sure X Queso is gonna give me Y nachores? / I can't enter or click this thing!!!! Halp?</b>
						<br>A. If you think there is an error in the values/bug in the page, let me know via Discord @LegendDemonSlayer#8006 or in the MH server and I can investigate it for you.</p>

					<p><b>Q. Can you add feature X to this calculator?</b>
						<br>A. Similar to the above answer, let me know via Discord @LegendDemonSlayer#8006 or in the MH server and I'll see what I can do.<br>Meanwhile, I have these features that I'm planning to add on, which is Bland Queso(s) needed to blend/craft X Queso. Another featrure would be a Leaf Calculator(calculates leaves output)(TBD), as well as performance upgrades (reduce code needed to run through)</p>

					<p><b>Q. I have Wildfire Queso. Why can't I enter them?</b>
						<br>A. Wildfire Quesos are meant to be used for Queen Quesada in Queso River. It drops Unstable Ember Gadget and does not drop any Nachores. Therefore it's not part of the calculator. If you're looking for the rates of the Nachores in Unstable Ember Gadget, go to jacks tool <a href="https://mhhunthelper.agiletravels.com/converter.php?item=2609" target="_blank">here</a>. Spoiler Alert it does not give nachore =)</p>

					<p><b>Q. Does the value include hunting with Wild Tonic? If no, can you please add it?</b>
						<br>A. No, it does not include Wild Tonic. Due to the complexity of programming this calculator, Wild Tonic will not be part of this calculator (until further notice).</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-info" data-dismiss="modal">Close</button>
				</div>
			</div>

		</div>
	</div>

</body>

<script>

	$(document).ready(function(){

		//default checkbox change value function
		$("input:checkbox").on("change", function(){
			this.value = this.checked ? 1 : 0;
		})

		//check pump level
		$("#pumplvl").change(function(){
			if($("#pumplvl").val() > 0 && $("#pumplvl").val() < 10 && $("#pumplvl").val() != null){
				var nextpumplvl = $("#pumplvl").val();
				nextpumplvl--;
				$("#nextpumpreq").html("Next Pump Requires <b>"+pumpreq[nextpumplvl]+"</b> Nachores.");
			}
			else if($("#pumplvl").val() == 10){
				$("#nextpumpreq").html("You're on highest level of pump.");
				$("#requirednachores").html("Nachores Not Required for Pump Upgrades. Use your Nachores to buy shop items.");
			}
			else{
				$("#nextpumpreq").html("Error!");
			}
		});

		//check nachore count
		$("#currentnachorecount").on('input', function(){
			if($("#pumplvl").val() != 0 && $("#pumplvl").val() < 10 && $("#pumplvl").val() != null){
				if ($("#currentnachorecount").val() =="")
					$("#requirednachores").html("");
				var nextpumplvl = $("#pumplvl").val();
				nextpumplvl--;
				var requirednachore = pumpreq[nextpumplvl] - parseInt($("#currentnachorecount").val());
				if(requirednachore > 0)
					$("#requirednachores").html("You need <b>"+requirednachore+"</b> more Nachores.");
				else if(requirednachore <= 0)
					$("#requirednachores").html("You have <b>"+Math.abs(requirednachore)+"</b> Nachores left.");
			}
			else if($("#pumplvl").val() == 10){
				$("#requirednachores").html("Nachores not required for pump upgrades. Use your Nachores to buy shop items.");
			}
			else{
				$("#requirednachores").html("Select a pump level!");
			}
		});

		//check bland queso count
		$("#blandquesocount").on('input', function(){
			if($("#blandquesocount").val()===""){
				$("#totalblandqueso").text("0");
			}
			else{
				$("#totalblandqueso").text($("#blandquesocount").val());
			}
		});

		//check mild queso count
		$("#mildleavescount,#mildquesosb, #mildquesocount").on('input', function(){
			if($("#mildleavescount").val()==="" && $("#mildquesocount").val()===""){
				$("#totalmildqueso").text("0");
			}
			else{
				//calc
				var totalmildqueso = 0;
				//check if mild leave input is empty
				if($("#mildleavescount").val()!=""){
					var mildleavescount = parseInt($("#mildleavescount").val());


					if (mildleavescount >= 10){
						mildleavescount = mildleavescount - mildleavescount%10;
						
						if(!$("#mildquesosb").is(':checked')){
							totalmildqueso += mildleavescount/10*3;					
						}
						else{
							totalmildqueso += mildleavescount/10*6;		
						}
					}
				}
				if($("#mildquesocount").val()!=""){
					var mildquesocount = parseInt($("#mildquesocount").val());

					totalmildqueso += mildquesocount;
				}
				$("#totalmildqueso").text(totalmildqueso);

			}
		});


		//check medium queso count
		$("#mediumleavescount,#mediumquesosb, #mediumquesocount").on('input', function(){
			if($("#mediumleavescount").val()==="" && $("#mediumquesocount").val()===""){
				$("#totalmediumqueso").text("0");
			}
			else{
				//calc
				var totalmediumqueso = 0;
				//check if medium leave input is empty
				if($("#mediumleavescount").val()!=""){
					var mediumleavescount = parseInt($("#mediumleavescount").val());


					if (mediumleavescount >= 10){
						mediumleavescount = mediumleavescount - mediumleavescount%10;
						
						if(!$("#mediumquesosb").is(':checked')){
							totalmediumqueso += mediumleavescount/10*3;
						}
						else{
							totalmediumqueso += mediumleavescount/10*6;
						}
					}
				}
				if($("#mediumquesocount").val()!=""){
					var mediumquesocount = parseInt($("#mediumquesocount").val());

					totalmediumqueso += mediumquesocount;
				}
				$("#totalmediumqueso").text(totalmediumqueso);

			}
		});


		//check hot queso count
		$("#hotleavescount,#hotquesosb, #hotquesocount").on('input', function(){
			if($("#hotleavescount").val()==="" && $("#hotquesocount").val()===""){
				$("#totalhotqueso").text("0");
			}
			else{
				//calc
				var totalhotqueso = 0;
				//check if hot leave input is empty
				if($("#hotleavescount").val()!=""){
					var hotleavescount = parseInt($("#hotleavescount").val());


					if (hotleavescount >= 10){
						hotleavescount = hotleavescount - hotleavescount%10;
						
						if(!$("#hotquesosb").is(':checked')){
							totalhotqueso += hotleavescount/10*3;
						}
						else{
							totalhotqueso += hotleavescount/10*6;
						}
					}
				}
				if($("#hotquesocount").val()!=""){
					var hotquesocount = parseInt($("#hotquesocount").val());

					totalhotqueso += hotquesocount;
				}
				$("#totalhotqueso").text(totalhotqueso);

			}
		});

		//check flamin queso count
		$("#flaminleavescount,#flaminquesosb, #flaminquesocount").on('input', function(){
			if($("#flaminleavescount").val()==="" && $("#flaminquesocount").val()===""){
				$("#totalflaminqueso").text("0");
			}
			else{
				//calc
				var totalflaminqueso = 0;
				//check if flamin leave input is empty
				if($("#flaminleavescount").val()!=""){
					var flaminleavescount = parseInt($("#flaminleavescount").val());


					if (flaminleavescount >= 10){
						flaminleavescount = flaminleavescount - flaminleavescount%10;
						
						if(!$("#flaminquesosb").is(':checked')){
							totalflaminqueso += flaminleavescount/10*3;
						}
						else{
							totalflaminqueso += flaminleavescount/10*6;
						}
					}
				}
				if($("#flaminquesocount").val()!=""){
					var flaminquesocount = parseInt($("#flaminquesocount").val());

					totalflaminqueso += flaminquesocount;
				}
				$("#totalflaminqueso").text(totalflaminqueso);

			}
		});	

		//onclick calc nachores output call api function	
		$("#calcnachoresbtn").on("click", function(){

			if($("#blandtomild").val()==='0' && $("#totalblandqueso").text()!='0')
				swal("Warning!", "Bland Queso will be used for Nachores Hunt if converting to Mild Spice Leaves is unchecked! Leave Bland Queso you have as 0 if you have no intention to use it in Canyon for Nachore Hunting!", "warning");

			//yeah i know it's long af, but meh need to pass everything to API to compute. =(
			var output = globalCalculateOutput(parseInt($("#totalblandqueso").text()), parseInt($("#blandtomild").val()),
				parseInt($("#mildleavescount").val()),parseInt($("#mildquesosb").val()), parseInt($("#mildquesocount").val()), parseInt($("#totalmildqueso").text()), parseInt($("#mildtomedium").val()),
				parseInt($("#mediumleavescount").val()),parseInt($("#mediumquesosb").val()), parseInt($("#mediumquesocount").val()), parseInt($("#totalmediumqueso").text()), parseInt($("#mediumtohot").val()),
				parseInt($("#hotleavescount").val()),parseInt($("#hotquesosb").val()), parseInt($("#hotquesocount").val()), parseInt($("#totalhotqueso").text()), parseInt($("#hottoflamin").val()),
				parseInt($("#flaminleavescount").val()),parseInt($("#flaminquesosb").val()), parseInt($("#flaminquesocount").val()), parseInt($("#totalflaminqueso").text()));


			$("#calculatoroutput").val(output);

			//compute final nachore needed more again
		});
	});
</script>
</html>
